<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz-2</title>
    <!-- css  -->
    <style>
      body { color:#2022bdc2; font-family: 'Maitree', serif;font-size: 20px; text-align:center;}
      div {text-align:center; }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Maitree:wght@300&display=swap" rel="stylesheet">
  
    <style>
      #map {
      height: 100%;
          }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      </style>
      <!-- เปิด-ปิด dialog -->
      <script>
        function show_dialog() {
          var showdialog = document.getElementById("myDialog");
          showdialog.showModal();
        }
        function close_dialog() {
          var closedialog = document.getElementById("myDialog");
          closedialog.close()
        }
      </script>
</head> 
<body>
  

  <div align=center>
    <br><br>
    <h2>เพจแสดงที่อยู่อาศัยของคุณ</h2>
    <button type="button" class="btn btn-link" onclick="show_dialog()">วิธีการใช้</button>
    <br><br>
    <br><br>ชื่อผู้ใช้ :<div id="div1"></div> <input type="name" id="username"></div>
    <p><button onclick="saveUsername()" type="button">Save</button>
    <br><br>
    <button onclick="getLocation()">แสดงที่อยู่</button>
    <p id="demo">สถานะการยืนยัน</p><br><br>
    <p id="showname"></p>
    <div id="mapholder"></div><br>
    <div id="counter"></div>
  </div>


  <!-- dialog  -->
  <dialog id="myDialog">
    <button type="button" class="btn-close" aria-label="Close" onclick="close_dialog()"></button>
    <h4>ขั้นตอนการใช้งานโปรแกรม</h4>
    <p>1. ใส่ชื่อของท่าน</p>
    <p>2. กดปุ่ม "save" เพื่อบันทึกข้อมูลของคุณ </p>
    <p>3. กดปุ่ม "แสดงที่อยู่"</p>
  </dialog>

  <script>
    var x = document.getElementById("demo");
    function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition, showError);
      } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }

    function showPosition(position) {
      x.innerHTML = "Latitude: " + position.coords.latitude +
      "<br>Longitude: " + position.coords.longitude;
    }

    function showError(error) {
      switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "ลองใหม่อีกครั้ง."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "ข้อมูลว่างในตำแหน่งนี้."
            break;
        case error.TIMEOUT:
            x.innerHTML = "หมดเวลาการเข้าถึงตำแหน่ง."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "ข้อมูลตำแหน่งไม่ถูกต้อง."
            break;
        }
    }
  </script>
    <footer>
      <br>
      <p>&copy; 2021 . All rights reserved.</p></br>
    </footer>
</body>  
</html>